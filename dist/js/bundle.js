function HeaderSearch(){var e=document.getElementsByClassName("header-search")[0],t=document.createElement("div");t.innerHTML='<div class="logo">\n                <h1>Google</h1>\n            </div>\n            <div class="search">\n                <div id="header-search" class="input open">\n                    <i class="fa fa-search" aria-hidden="true"></i>\n                    <input type="search" placeholder="Search..." value="" autofocus>\n                    <button class="btn button"><i class="fa fa-arrow-right" aria-hidden="true"></i></button>\n                </div>\n            </div>',t.className="search-container",e.appendChild(t),e.classList.add("fade-in");document.getElementsByClassName("content")[0].classList.add("fade-out");var n=document.querySelector("#header-search input");new Submitting(document.querySelector("#header-search button"),n,1)}function Image(e){this.result=e,this.title=e.title,this.displayLink=e.displayLink,this.link=e.link,this.width=e.image.width,this.height=e.image.height,this.thumbnail=e.image.thumbnailLink,this.printImage()}function landingSearch(e){this.icon=e,this.env=document.getElementsByTagName("body")[0],this.container=document.getElementById("landing-search");var t=this;this.icon.addEventListener("click",function(){t.PrepareInput()}),this.env.addEventListener("click",function(){console.log("env-click"),t.CloseInput()}),this.container.addEventListener("click",function(e){console.log("cont-clicked"),t.PreventClosing(e)})}function Page(e){this.result=e,this.displayLink=e.displayLink,this.title=e.htmlTitle,this.snippet=e.htmlSnippet,this.url=e.link,this.printPage()}function SearchResult(e){this.search=e,this.results=e.searchInformation.formattedTotalResults,this.time=e.searchInformation.formattedSearchTime}function Submitting(e,t,n){this.button=e,this.input=t,this.headerSearch=n;var i=this;this.input.addEventListener("keyup",function(){i.displayButton()}),this.button.addEventListener("click",function(){i.Submit()})}Image.prototype={result:null,title:null,displayLink:null,link:null,width:null,height:null,thumbnail:null,printImage:function(){var e=document.querySelector(".images .results"),t=document.createElement("div");t.className="image-result",t.innerHTML='<div class="thumbnail"><img src="'+this.thumbnail+'" alt="'+this.title+'"></div><div class="size-link">'+this.width+"x"+this.height+" - "+this.displayLink+"</div>",e.appendChild(t)}},landingSearch.prototype={icon:null,PrepareInput:function(){document.getElementById("landing-search").classList.add("open"),document.querySelector("#landing-search button").style.display="none"},CloseInput:function(){document.getElementById("landing-search").classList.remove("open")},PreventClosing:function(e){e.stopPropagation()}},Page.prototype={result:null,displayLink:null,title:null,snippet:null,url:null,image:null,results:null,time:null,printPage:function(){var e=document.querySelector(".pages .results"),t=document.createElement("div");t.className="page-result",t.innerHTML='<div class="title"><a href="'+this.url+'">'+this.title+'</a></div><div class="link"><a href="'+this.url+'">'+this.url+'</a></div><div class="snippet"><p>'+this.snippet+"</p></div>",e.appendChild(t)}},SearchResult.prototype={printPagesInfo:function(){var e=document.querySelector(".pages .info"),t=document.createElement("div");t.className="page-result-info",t.innerHTML='<div class="info"><span>Total pages found: '+this.results+" ("+this.time+" s)</span></div>",e.appendChild(t)},printImagesInfo:function(){var e=document.querySelector(".images .info"),t=document.createElement("div");t.className="page-result-info",t.innerHTML='<div class="info"><span>Total images found:  '+this.results+" ("+this.time+" s)</span></div>",e.appendChild(t)}},Submitting.prototype={button:null,input:null,current_page:null,headerSearch:null,displayButton:function(){this.input.value.length>=1?(this.button.classList.remove("fade-out"),this.button.classList.add("fade-in"),this.button.style.display=""):(this.button.classList.remove("fade-in"),this.button.classList.add("fade-out"),this.button.style.display="none")},Submit:function(){this.exchangeSearches(),this.loadPage()},exchangeSearches:function(){this.headerSearch||(this.headerSearch=new HeaderSearch,document.getElementsByClassName("content")[0].classList.remove("fade-in"),document.getElementsByClassName("content")[0].classList.add("fade-out"),document.getElementsByClassName("content")[0].style.display="none")},loadPage:function(e){void 0===e&&(e=1),this.current_page=parseInt(e);var t=10*(this.current_page-1)+1;this.emptyResults(),this.displayLoading(),this.sendAjaxCall(this.input.value,t)},emptyResults:function(){document.querySelector(".images .results").innerHTML="",document.querySelector(".images .info").innerHTML="",document.querySelector(".pages .results").innerHTML="",document.querySelector(".pages .info").innerHTML="",document.getElementById("buttons").innerHTML=""},displayLoading:function(){var e=document.querySelector(".images .results"),t=document.querySelector(".pages .results"),n=document.createElement("span");n.className="loading",n.innerHTML='<i class="loading fa fa-spinner fa-pulse fa-3x fa-fw"></i>';var i=document.createElement("span");i.className="loading",i.innerHTML='<i class="loading fa fa-spinner fa-pulse fa-3x fa-fw"></i>',e.appendChild(n),t.appendChild(i)},endLoading:function(){document.querySelector(".pages .results").removeChild(document.querySelector(".pages .results span")),document.querySelector(".images .results").removeChild(document.querySelector(".images .results span"))},sendAjaxCall:function(e,t){var n=this,i=new XMLHttpRequest;i.open("GET","https://www.googleapis.com/customsearch/v1?key=AIzaSyCv9Rf2Byyw9TkNyku1ZiHBeUSeFErc_K4&cx=015921586228539547241:8aqkhvwhory&start="+t+"&q="+e,!0),i.onload=function(){if(i.status>=200&&i.status<400){var e=JSON.parse(i.responseText);n.displaySearchInfo("page",e),n.displayResults("page",e),n.endLoading(),n.generatePaginationButtons(),n.highlightCurrentPaginationButton(e)}},i.send();(i=new XMLHttpRequest).open("GET","https://www.googleapis.com/customsearch/v1?key=AIzaSyCv9Rf2Byyw9TkNyku1ZiHBeUSeFErc_K4&cx=015921586228539547241:8aqkhvwhory&start="+t+"&searchType=image&q="+e,!0),i.onload=function(){if(i.status>=200&&i.status<400){var e=JSON.parse(i.responseText);n.displaySearchInfo("image",e),n.displayResults("image",e),n.endLoading()}},i.send()},displaySearchInfo:function(e,t){if("image"==e){new SearchResult(t).printImagesInfo()}else{new SearchResult(t).printPagesInfo()}},displayResults:function(e,t){if("image"==e)for(n=0;n<t.items.length;n++){new Image(t.items[n])}else for(var n=0;n<t.items.length;n++)new Page(t.items[n])},generatePaginationButtons:function(){var e=this,t=document.getElementById("buttons");t.innerHTML="";for(var n=-2;n<=2;n++)if(!(this.current_page+n<=0)){var i=document.createElement("button");i.innerHTML=this.current_page+n,i.setAttribute("data-nr",this.current_page+n),i.addEventListener("click",function(t){t.preventDefault(),e.loadPage(t.target.getAttribute("data-nr"))}.bind(this)),t.appendChild(i)}},highlightCurrentPaginationButton:function(e){var t=(e.queries.nextPage[0].startIndex-1)/10;document.querySelector("#buttons button[data-nr="+t+"]").classList.add("active")}};